mappings:
  - match: "airflow.dagrun.duration.success.*"
    name: "airflow_dagrun_duration_success"
    labels:
      dag_id: "$1"
  - match: "airflow.dagrun.duration.failed.*"
    name: "airflow_dagrun_duration_failed"
    labels:
      dag_id: "$1"
  - match: "airflow.dag_processing.total_parse_time"
    name: "airflow_dag_processing_total_parse_time"
  - match: "airflow.executor.open_slots"
    name: "airflow_executor_open_slots"
  - match: "airflow.executor.queued_tasks"
    name: "airflow_executor_queued_tasks"
  - match: "airflow.executor.running_tasks"
    name: "airflow_executor_running_tasks"
  - match: "airflow.ti.successes"
    name: "airflow_ti_successes"
  - match: "airflow.ti.failures"
    name: "airflow_ti_failures"
  - match: "airflow.ti_failures"
    name: "airflow_ti_failures_total"
  - match: "airflow.ti_successes"
    name: "airflow_ti_successes_total"
  - match: "airflow.scheduler.tasks.running"
    name: "airflow_scheduler_tasks_running"
  - match: "airflow.scheduler.tasks.starving"
    name: "airflow_scheduler_tasks_starving"
  - match: "airflow.dagrun.schedule_delay.*"
    name: "airflow_dagrun_schedule_delay"
    labels:
      dag_id: "$1"
  - match: "airflow.dag.*.*.duration"
    name: "airflow_task_duration"
    labels:
      dag_id: "$1"
      task_id: "$2"
  - match: "airflow.pool.open_slots.*"
    name: "airflow_pool_open_slots"
    labels:
      pool: "$1"
  - match: "airflow.pool.used_slots.*"
    name: "airflow_pool_used_slots"
    labels:
      pool: "$1"
  - match: "."
    match_type: regex
    action: drop
    name: "dropped"
